# sql

### 1단원 - 데이터 모델과 성능



### 성능 데이터모델링

→ 데이터베이스 성능 향상을 목적으로 설계단계의 데이터 모델링 때부터 성능과관련된 사항이 데이터 모델링에 반영될 수 있도록 하는 것이다.

- 데이터의 증가가 빠를수록 성능저하에 따른 성능개선비용은 증가
- 데이터모델은 성능을 튜닝하면서 변경이 될 수 있는 특징이 있다
- 분석/설계 단계에서 성능을 고려한 데이터모델링을 수행할 경우 성능 저하에 따른 Rework비용을 최소화 할 수 있는 기회를 가지게 된다.

→ 순서

1. 데이터모델링을 할 때 정규화를 정확하게 수행한다.
2. 데이터베이스 용량 산정을 수행한다.
3. 데이터베이스에 발생되는 트랜잭션의 유형을 파악한다.
4. 용량과 트랜잭션의 유형에 따라 반정규화를 수행한다.
5. 이력모델의 조정, PK/FK 조정, 슈퍼타입/서브타입의 조정 등을 수행한다.

**이력모델**

- 시간에 따라 발생하는 데이터 형식을 이력이라고 한다.
- 이력 데이터는 시간에 따라 발생하고, 동일한 컬럼 유형에 발생한다.
- 시간에 따라 반복적으로 발생하기 때문에 다른 테이블에 비해 대량의 데이터가 테이블에 적재될 가능성이 크다.  → 데이터베이스에 발생하는 트랜잭션의 성능저하로 이어지는 경우가 있다.

**이력 테이블의 특징**

- 시간에 따라 발생
- 동일한 컬럼에 발생
- 대량데이터가 발생할 가능성이 높다
- 성능에 영향을 주는 경우가 많다

### "동일한 유형의 속성이 컬럼단위로 반복되는 경우"

- 제 1차 정규화의 대상이 된다.
- 반복적인 속성 나열 형태에서는 각 속성에 대해 or 연산자로 연결된 조건들이 사용되는데 이때 인덱스를 사용하지 않고 한번의 전체 데이터 스캔으로 처리되게 되어 성능 저하가 나타날 수 있게 된다.
- 모든 반복 속성에 인덱스를 생성하게 되면 검색 속도는 좋아지겠지만 반대급부적으로 너무 많은 인덱스로 인해 입력, 수정, 삭제의 성능이 저하된다.